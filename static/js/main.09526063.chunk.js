(this["webpackJsonpplayoff-v2"]=this["webpackJsonpplayoff-v2"]||[]).push([[0],{112:function(e,o,a){},243:function(e,o,a){"use strict";a.r(o);var t=a(0),s=a(98),c=(a(112),a(99)),l=a.n(c),n=a(100),i=a.n(n);const r=[{key:"hj",displayName:"\u05d4\u05e4\u05d5\u05e2\u05dc \u05d9\u05e8\u05d5\u05e9\u05dc\u05d9\u05dd",initialPoints:37,goalDiffrence:-1},{key:"hh",displayName:"\u05d4\u05e4\u05d5\u05e2\u05dc \u05d7\u05d3\u05e8\u05d4",initialPoints:32,goalDiffrence:-16},{key:"mpt",displayName:"\u05de\u05db\u05d1\u05d9 \u05e4\u05f4\u05ea",initialPoints:30,goalDiffrence:-20},{key:"mn",displayName:"\u05de\u05db\u05d1\u05d9 \u05e0\u05ea\u05e0\u05d9\u05d4",initialPoints:29,goalDiffrence:-15},{key:"bj",displayName:"\u05d1\u05d9\u05ea\u05f4\u05e8 \u05d9\u05e8\u05d5\u05e9\u05dc\u05d9\u05dd",initialPoints:28,goalDiffrence:2},{key:"hta",displayName:"\u05d4\u05e4\u05d5\u05e2\u05dc \u05ea\u05f4\u05d0",initialPoints:27,goalDiffrence:-10},{key:"msa",displayName:"\u05de\u05e1 \u05d0\u05e9\u05d3\u05d5\u05d3",initialPoints:26,goalDiffrence:-21},{key:"hpt",displayName:"\u05d4\u05e4\u05d5\u05e2\u05dc \u05e4\u05f4\u05ea",initialPoints:21,goalDiffrence:-19}],d={HOME:1,AWAY:2,TIE:3},h=[],u=[{home:"hpt",away:"bj",round:29,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"mn",away:"hj",round:29,homeGoals:1,awayGoals:0,result:1,lock:!0},{home:"hh",away:"msa",round:29,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"mpt",away:"hta",round:29,homeGoals:4,awayGoals:2,result:1,lock:!0},{home:"msa",away:"hpt",round:30,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"hj",away:"hh",round:30,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"hta",away:"bj",round:30,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"mpt",away:"mn",round:30,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"hpt",away:"hj",round:31,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"mn",away:"hta",round:31,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"hh",away:"mpt",round:31,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"bj",away:"msa",round:31,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"mpt",away:"hpt",round:32,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"hta",away:"msa",round:32,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"mn",away:"hh",round:32,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"hj",away:"bj",round:32,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"hpt",away:"mn",round:33,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"hh",away:"hta",round:33,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"bj",away:"mpt",round:33,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"msa",away:"hj",round:33,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1}],m=7;a(62);const j=function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const a=o.reduce(((e,o)=>(o.result&&(e[o.home]=(e[o.home]||0)+1,e[o.away]=(e[o.away]||0)+1),e)),{}),t=(e=>e.reduce(((e,o)=>(o.result===d.HOME&&(e[o.home]=(e[o.home]||0)+3),o.result===d.AWAY&&(e[o.away]=(e[o.away]||0)+3),o.result===d.TIE&&(e[o.home]=(e[o.home]||0)+1,e[o.away]=(e[o.away]||0)+1),e)),{}))(o),s=(e=>e.reduce(((e,o)=>(e[o.home]=(e[o.home]||0)+(o.homeGoals||0)-(o.awayGoals||0),e[o.away]=(e[o.away]||0)+(o.awayGoals||0)-(o.homeGoals||0),e)),{}))(o);return e.map((e=>({...e,games:(a[e.key]||0)+28,points:e.initialPoints+(t[e.key]||0),goalDiffrence:e.goalDiffrence+(s[e.key]||0)}))).sort(((e,o)=>o.points-e.points||o.goalDiffrence-e.goalDiffrence))},b=(e,o)=>{var a;return(null===(a=e.find((e=>e.key===o)))||void 0===a?void 0:a.displayName)||o};function v(e){try{JSON.parse(e)}catch(o){return!1}return!0}function y(e){const o=e.map((e=>[e.home,e.round,e.result,e.homeGoals,e.awayGoals]));return JSON.stringify(o)}function w(e){let{action:o,category:a,label:t,value:s}=e;window.gtag&&window.gtag("event",o,{event_category:a,event_label:t,value:s})}const p=function(e,o){return e.reduce((function(e,a){return(e[a[o]]=e[a[o]]||[]).push(a),e}),{})},O=()=>{const e=[0,0,0,0,0,1,1,1,1,2,2,2,3];return e[Math.floor(Math.random()*(e.length-1+1))]};window.currentCalcuation=new Map;var f=a(1);function x(e){let{team:o={},showGoals:a=!1,idx:t,chance:s}=e;return Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col small-col",children:m+t}),Object(f.jsx)("div",{className:"col",children:o.displayName}),Object(f.jsx)("div",{className:"small-col col ".concat(33===o.games?"done":""," "),children:o.games}),a&&Object(f.jsx)("div",{className:"col small-col gf",children:o.goalDiffrence}),Object(f.jsx)("div",{className:"col small-col",children:o.points}),Object(f.jsx)("div",{className:"col small-col",children:s?"".concat(s,"%"):"..."})]},o.key)}a(242);function g(e){let{teams:o,showGoals:a,chancePrecentile:t}=e;return Object(f.jsxs)("div",{className:"table",children:[Object(f.jsxs)("div",{className:"row head-row",children:[Object(f.jsx)("div",{className:"small-col",children:"\u05de\u05e7\u05d5\u05dd"}),Object(f.jsx)("div",{children:"\u05e7\u05d1\u05d5\u05e6\u05d4"}),Object(f.jsx)("div",{className:"small-col",children:"\u05de\u05e9\u05d7\u05e7\u05d9\u05dd"}),a&&Object(f.jsx)("div",{className:"small-col",children:"\u05d4\u05e4\u05e8\u05e9"}),Object(f.jsx)("div",{className:"small-col",children:"\u05e0\u05e7\u05d5\u05d3\u05d5\u05ea"}),Object(f.jsx)("div",{className:"small-col",children:"\u05e1\u05d9\u05db\u05d5\u05d9 \u05d4\u05e9\u05e8\u05d3\u05d5\u05ea"})]}),Object(f.jsx)("div",{children:o.map(((e,o)=>Object(f.jsx)(x,{team:e,showGoals:a,idx:o+4,chance:t.get(e.key)||null},e.key)))})]})}const G=r;function k(e){let{fixture:o,index:a,applyFn:s,showRoundNumber:c=!0,showGoals:l}=e;const n=Object(t.useRef)(o.homeGoals),i=Object(t.useRef)(o.awayGoals),{homeGoals:r,awayGoals:h}=o;Object(t.useEffect)((()=>{l&&(n.current.value=r,i.current.value=h)}),[r,h,l]);const u=e=>{e.stopPropagation();const o=n.current.valueAsNumber&&n.current.checkValidity()?n.current.valueAsNumber:0,t=i.current.valueAsNumber&&i.current.checkValidity()?i.current.valueAsNumber:0;let c;c=o>t?d.HOME:o<t?d.AWAY:d.TIE,s(a,c,o,t)},m=e=>{const o=e===d.HOME?1:0,t=e===d.AWAY?1:0;s(a,e,o,t)};return Object(f.jsxs)("tr",{className:"round-".concat(o.round," team-").concat(o.home," team-").concat(o.away),children:[c?Object(f.jsx)("td",{children:o.round}):"",Object(f.jsx)("td",{className:"".concat(o.result===d.HOME?"bold":""),children:Object(f.jsx)("div",{children:Object(f.jsx)("div",{onClick:()=>{m(d.HOME)},children:b(G,o.home)})})}),l&&Object(f.jsx)("td",{className:"goals-col",children:Object(f.jsx)("div",{children:Object(f.jsx)("input",{onClick:e=>{e.target.select()},onChange:u,type:"number",min:"0",size:"1",max:"13",ref:n,disabled:o.lock})})}),Object(f.jsx)("td",{className:"tie-col ".concat(o.result===d.TIE?"bold":""),onClick:()=>{m(d.TIE)},children:"X"}),l&&Object(f.jsx)("td",{className:"goals-col",children:Object(f.jsx)("div",{children:Object(f.jsx)("input",{onClick:e=>{e.target.select()},onChange:u,type:"number",min:"0",size:"1",max:"13",ref:i,disabled:o.lock})})}),Object(f.jsx)("td",{className:"".concat(o.result===d.AWAY?"bold":""),children:Object(f.jsx)("div",{children:Object(f.jsx)("div",{onClick:()=>{m(d.AWAY)},children:b(G,o.away)})})})]},a)}function N(e){let{fixtures:o,applyFn:a,showGoals:t}=e;const s=p(o,"round");return Object.keys(s).filter((e=>!h.includes(parseInt(e,10)))).map((e=>Object(f.jsxs)("div",{children:[Object(f.jsxs)("h3",{children:["\u05de\u05d7\u05d6\u05d5\u05e8 ",e]}),Object(f.jsxs)("table",{children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"1"}),t&&Object(f.jsx)("th",{className:"goals-col"}),Object(f.jsx)("th",{className:"tie-col",children:"x"}),t&&Object(f.jsx)("th",{className:"goals-col"}),Object(f.jsx)("th",{children:"2"})]})}),Object(f.jsx)("tbody",{children:s[e].map((e=>Object(f.jsx)(k,{fixture:e,applyFn:a,index:"".concat(e.home,"/").concat(e.away),showRoundNumber:!1,showGoals:t},"".concat(e.home,"/").concat(e.away))))})]})]},"round".concat(e))))}var A=a(60);a(241);const S=i()((function(e,o){return new Promise(((a,t)=>{const s=r.map((e=>e.key)),c=window.currentCalcuation;let l=0;for(l=0;l<o;l++){const o=e.map((e=>{return e.result?{...e}:{...e,result:(o=1,a=3,Math.floor(Math.random()*(a-o+1)+o))};var o,a})),a=j(r,o).slice(-2).map((e=>e.key)),t=o.reduce(((e,o)=>e.concat(o.result)),"");c.set(t,a)}const n=new Map(s.map((e=>[e,0])));Array.from(c.values()).forEach((e=>{let[o,a]=e;n.set(o,n.get(o)+1),n.set(a,n.get(a)+1)}));const i=s.reduce(((e,o)=>(e.set(o,100-Math.floor(n.get(o)/c.size*100)),e)),new Map);a({poolSize:c.size,promotionsCount:n,precentile:i})}))}),750),M={icon:"\ud83d\udccb",position:"top-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0};function P(){const[e,o]=Object(t.useState)([...u]),[a,s]=Object(t.useState)(j(r,[...u])),[c,n]=Object(t.useState)(!1),[i,h]=Object(t.useState)(0),[b,p]=Object(t.useState)(new Map);Object(t.useEffect)((()=>{if(e.every((e=>e.result))){w({action:"complete",category:"hpt",label:a.findIndex((e=>"hpt"===e.key))+1+m}),w({action:"complete",category:"complete",label:e.reduce(((e,o)=>e.concat(o.result)),"")})}}),[a,e,b]),Object(t.useEffect)((()=>{p(new Map),S(e,1e4).then((e=>{const{precentile:o=new Map,poolSize:a}=e;p(o),h(a)})),s(j(r,e)),window.currentCalcuation.size>0&&(window.currentCalcuation.clear(),G())}),[e]),Object(t.useEffect)((()=>{const e=(()=>{try{const e=atob(new URL(document.location).searchParams.get("state")),o=window.localStorage.getItem("fixtures");if(v(e))return JSON.parse(e);if(v(o)&&window.localStorage.getItem("version")===3..toString()&&o.length)return JSON.parse(o)}catch(e){console.error(e)}return[]})();o(((e,o)=>{const a=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>{const[o,a,t,s,c]=e;return{home:o,round:a,result:t,homeGoals:s,awayGoals:c}}))}(o);return a.reduce(((o,a)=>{const t=e.findIndex((e=>e.home===a.home&&e.round===a.round)),{result:s,homeGoals:c,awayGoals:l}=a;return-1!==t&&s&&(o[t]={...e[t],result:s,homeGoals:c,awayGoals:l}),o}),[...e])})(u,e))}),[]);const x=(e=>{const o=new URL(document.location.origin);return o.searchParams.set("state",btoa(y(e.filter((e=>e.result))))),o})(e),G=()=>{};return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)("div",{id:"table",children:Object(f.jsx)(g,{teams:a,showGoals:c,chancePrecentile:b})}),Object(f.jsxs)("div",{className:"buttons",children:[Object(f.jsx)("button",{onClick:()=>{w({action:"click",category:"button",label:"share"}),((e,o)=>/Android|webOS|iPhone|iPad|iPod|Opera Mini/i.test(navigator.userAgent)&&navigator.share?navigator.share({text:e.toString()}):navigator.clipboard?navigator.clipboard.writeText(e.toString()).catch((e=>console.error(e))):(window.prompt(e.toString()),Promise.resolve()))(x).then((()=>{A.b.success("\u05d4\u05d5\u05e2\u05ea\u05e7 \u05dc\u05dc\u05d5\u05d7",M)}))},children:"\u05e9\u05ea\u05e3 \u05de\u05e6\u05d1 \u05e0\u05d5\u05db\u05d7\u05d9"}),Object(f.jsx)("button",{onClick:()=>{w({action:"click",category:"button",label:"reset"}),o(u)},children:"\u05d0\u05d9\u05e4\u05d5\u05e1"}),Object(f.jsx)("button",{onClick:()=>{w({action:"click",category:"button",label:"shuffle"});const a=e.every((e=>e.result)),t=e.map((e=>{if(e.lock||e.result&&!a)return e;const o=O(),t=O(),s=o>t?d.HOME:o<t?d.AWAY:d.TIE;return{...e,result:s,homeGoals:o,awayGoals:t}}));o(t)},children:"\u05d0\u05e7\u05e8\u05d0\u05d9"})]}),Object(f.jsx)("div",{children:Object(f.jsxs)("label",{children:[Object(f.jsx)(l.a,{onChange:e=>{w({action:"click",category:"goals",label:e.toString()}),n(e)},checked:c,className:"switch"}),"\u05d4\u05e4\u05e8\u05e9 \u05e9\u05e2\u05e8\u05d9\u05dd"]})}),Object(f.jsx)("div",{id:"fixtures",children:Object(f.jsx)(N,{fixtures:e,applyFn:(a,t,s,c)=>{const l=[...e],n=l.findIndex((e=>"".concat(e.home,"/").concat(e.away)===a));if(l[n].lock)return;const i=t===l[n].result?void 0:t;l[n]={...l[n],result:i,homeGoals:i?s:void 0,awayGoals:i?c:void 0},o(l);const r=y(l);window.localStorage.setItem("fixtures",r),window.localStorage.setItem("version",3)},showGoals:c})}),Object(f.jsx)(A.a,{rtl:!0})]})}const E=document.getElementById("root");Object(s.createRoot)(E).render(Object(f.jsx)(t.StrictMode,{children:Object(f.jsx)(P,{})}))}},[[243,1,2]]]);
//# sourceMappingURL=main.09526063.chunk.js.map