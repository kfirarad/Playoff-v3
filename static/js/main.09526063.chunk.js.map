{"version":3,"sources":["constans.js","utils.js","calc.js","components/TableRow.jsx","components/LeagueTable.jsx","components/SingleFixture.jsx","components/Fixtures.jsx","App.js","index.js"],"names":["initialTeams","key","displayName","initialPoints","goalDiffrence","resultsTypes","HOME","AWAY","TIE","completedRounds","initialFixtures","home","away","round","homeGoals","undefined","awayGoals","result","lock","BASE_POSITION","calcuateTeamsPointes","teams","fixtures","arguments","length","gamesAdded","reduce","ac","fixture","pointsAdded","pointsWon","goalsAdded","goalsWon","map","t","games","points","sort","t1","t2","getTeamDisplayName","teamKey","_teams$find","find","isJsonString","str","JSON","parse","e","minifyJson","minified","f","stringify","trackEvent","_ref","action","category","label","value","window","gtag","event_category","event_label","groupBy","xs","rv","x","push","randomGoals","posibleValues","Math","floor","random","currentCalcuation","Map","TableRow","team","showGoals","idx","chance","_jsxs","className","children","_jsx","concat","LeagueTable","chancePrecentile","i","get","SingleFixture","index","applyFn","showRoundNumber","homeGoalsInput","useRef","awayGoalsInput","useEffect","current","handleChange","stopPropagation","newHomeGoals","valueAsNumber","checkValidity","newAwayGoals","resultType","handleClick","onClick","target","select","onChange","type","min","size","max","ref","disabled","Fixtures","rounds","Object","keys","filter","roundNumber","includes","parseInt","getCalcDebounce","debounce","poolSize","Promise","resolve","reject","m","randomIntFromInterval","survived","slice","mini","a","v","set","p","Array","from","values","forEach","teamA","teamB","precentile","promotionsCount","toastSettings","icon","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","App","setFixtures","useState","setTeams","setShowGoals","currentPoolSize","setCurrentPoolSize","setChancePrecentile","every","findIndex","then","clear","handleCalc","clientFixtures","getDataFromClient","qsState","atob","URL","document","location","searchParams","fixturesFromLS","localStorage","getItem","toString","error","console","mergeFixtures","appFixtures","unminified","unminifyJson","clientFixture","initialIndex","shareLink","origin","btoa","getShareLink","id","copyShareLink","copyToClipboard","toast","test","navigator","userAgent","share","text","clipboard","writeText","catch","prompt","success","reset","shuffle","shuffleAll","newFixtures","Switch","checked","applyFixtureResult","changedFixtureIdx","mutatedResult","setItem","ToastContainer","rtl","rootElement","getElementById","createRoot","render","StrictMode"],"mappings":"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","file":"static/js/main.09526063.chunk.js","sourcesContent":["const currentVersion = 3;\n\nconst initialTeams = [\n  {\n    key: \"hj\",\n    displayName: \"驻注 专砖\",\n    initialPoints: 37,\n    goalDiffrence: -1,\n  },\n  {\n    key: \"hh\",\n    displayName: \"驻注 专\",\n    initialPoints: 32,\n    goalDiffrence: -16,\n  },\n  {\n    key: \"mpt\",\n    displayName: \" 驻状转\",\n    initialPoints: 30,\n    goalDiffrence: -20,\n  },\n  {\n    key: \"mn\",\n    displayName: \" 转\",\n    initialPoints: 29,\n    goalDiffrence: -15,\n  },\n  {\n    key: \"bj\",\n    displayName: \"转状专 专砖\",\n    initialPoints: 28,\n    goalDiffrence: 2,\n  },\n  {\n    key: \"hta\",\n    displayName: \"驻注 转状\",\n    initialPoints: 27,\n    goalDiffrence: -10,\n  },\n  {\n    key: \"msa\",\n    displayName: \"住 砖\",\n    initialPoints: 26,\n    goalDiffrence: -21,\n  },\n  {\n    key: \"hpt\",\n    displayName: \"驻注 驻状转\",\n    initialPoints: 21,\n    goalDiffrence: -19,\n  },\n];\n\nconst resultsTypes = {\n  HOME: 1,\n  AWAY: 2,\n  TIE: 3,\n};\n\nconst completedRounds = [];\n\nconst initialFixtures = [\n  //30\n  {\n    home: \"hpt\",\n    away: \"bj\",\n    round: 29,\n    homeGoals: undefined,\n    awayGoals: undefined,\n    result: undefined,\n    lock: false,\n  },\n  {\n    home: \"mn\",\n    away: \"hj\",\n    round: 29,\n    homeGoals: 1,\n    awayGoals: 0,\n    result: 1,\n    lock: true,\n  },\n  {\n    home: \"hh\",\n    away: \"msa\",\n    round: 29,\n    homeGoals: undefined,\n    awayGoals: undefined,\n    result: undefined,\n    lock: false,\n  },\n  {\n    home: \"mpt\",\n    away: \"hta\",\n    round: 29,\n    homeGoals: 4,\n    awayGoals: 2,\n    result: 1,\n    lock: true,\n  },\n  {\n    home: \"msa\",\n    away: \"hpt\",\n    round: 30,\n    homeGoals: undefined,\n    awayGoals: undefined,\n    result: undefined,\n    lock: false,\n  },\n  {\n    home: \"hj\",\n    away: \"hh\",\n    round: 30,\n    homeGoals: undefined,\n    awayGoals: undefined,\n    result: undefined,\n    lock: false,\n  },\n  {\n    home: \"hta\",\n    away: \"bj\",\n    round: 30,\n    homeGoals: undefined,\n    awayGoals: undefined,\n    result: undefined,\n    lock: false,\n  },\n  {\n    home: \"mpt\",\n    away: \"mn\",\n    round: 30,\n    homeGoals: undefined,\n    awayGoals: undefined,\n    result: undefined,\n    lock: false,\n  },\n  {\n    home: \"hpt\",\n    away: \"hj\",\n    round: 31,\n    homeGoals: undefined,\n    awayGoals: undefined,\n    result: undefined,\n    lock: false,\n  },\n  {\n    home: \"mn\",\n    away: \"hta\",\n    round: 31,\n    homeGoals: undefined,\n    awayGoals: undefined,\n    result: undefined,\n    lock: false,\n  },\n  {\n    home: \"hh\",\n    away: \"mpt\",\n    round: 31,\n    homeGoals: undefined,\n    awayGoals: undefined,\n    result: undefined,\n    lock: false,\n  },\n  {\n    home: \"bj\",\n    away: \"msa\",\n    round: 31,\n    homeGoals: undefined,\n    awayGoals: undefined,\n    result: undefined,\n    lock: false,\n  },\n  {\n    home: \"mpt\",\n    away: \"hpt\",\n    round: 32,\n    homeGoals: undefined,\n    awayGoals: undefined,\n    result: undefined,\n    lock: false,\n  },\n  {\n    home: \"hta\",\n    away: \"msa\",\n    round: 32,\n    homeGoals: undefined,\n    awayGoals: undefined,\n    result: undefined,\n    lock: false,\n  },\n  {\n    home: \"mn\",\n    away: \"hh\",\n    round: 32,\n    homeGoals: undefined,\n    awayGoals: undefined,\n    result: undefined,\n    lock: false,\n  },\n  {\n    home: \"hj\",\n    away: \"bj\",\n    round: 32,\n    homeGoals: undefined,\n    awayGoals: undefined,\n    result: undefined,\n    lock: false,\n  },\n  {\n    home: \"hpt\",\n    away: \"mn\",\n    round: 33,\n    homeGoals: undefined,\n    awayGoals: undefined,\n    result: undefined,\n    lock: false,\n  },\n  {\n    home: \"hh\",\n    away: \"hta\",\n    round: 33,\n    homeGoals: undefined,\n    awayGoals: undefined,\n    result: undefined,\n    lock: false,\n  },\n  {\n    home: \"bj\",\n    away: \"mpt\",\n    round: 33,\n    homeGoals: undefined,\n    awayGoals: undefined,\n    result: undefined,\n    lock: false,\n  },\n  {\n    home: \"msa\",\n    away: \"hj\",\n    round: 33,\n    homeGoals: undefined,\n    awayGoals: undefined,\n    result: undefined,\n    lock: false,\n  },\n];\n\nconst GAMES_PLAYED_INITIAL = 28;\nconst BASE_POSITION = 7;\n\nexport {\n  initialTeams,\n  initialFixtures,\n  resultsTypes,\n  currentVersion,\n  completedRounds,\n  GAMES_PLAYED_INITIAL,\n  BASE_POSITION,\n};\n\n// {\n//   home: \"hpt\",\n//   away: \"kfs\",\n//   round: 31,\n//   homeGoals: 3,\n//   awayGoals: 4,\n//   result: 2,\n//   lock: true,\n// },\n","import { resultsTypes, currentVersion, GAMES_PLAYED_INITIAL } from \"./constans\";\nimport confetti from \"canvas-confetti\";\n\nconst pointsWon = (fixtures) =>\n  fixtures.reduce((ac, fixture) => {\n    if (fixture.result === resultsTypes.HOME) {\n      ac[fixture.home] = (ac[fixture.home] || 0) + 3;\n    }\n    if (fixture.result === resultsTypes.AWAY) {\n      ac[fixture.away] = (ac[fixture.away] || 0) + 3;\n    }\n    if (fixture.result === resultsTypes.TIE) {\n      ac[fixture.home] = (ac[fixture.home] || 0) + 1;\n      ac[fixture.away] = (ac[fixture.away] || 0) + 1;\n    }\n    return ac;\n  }, {});\n\nconst goalsWon = (fixtures) =>\n  fixtures.reduce((ac, fixture) => {\n    ac[fixture.home] =\n      (ac[fixture.home] || 0) +\n      (fixture.homeGoals || 0) -\n      (fixture.awayGoals || 0);\n    ac[fixture.away] =\n      (ac[fixture.away] || 0) +\n      (fixture.awayGoals || 0) -\n      (fixture.homeGoals || 0);\n    return ac;\n  }, {});\n\nconst calcuateTeamsPointes = function (teams, fixtures = []) {\n  const gamesAdded = fixtures.reduce((ac, fixture) => {\n    if (fixture.result) {\n      ac[fixture.home] = (ac[fixture.home] || 0) + 1;\n      ac[fixture.away] = (ac[fixture.away] || 0) + 1;\n    }\n    return ac;\n  }, {});\n\n  const pointsAdded = pointsWon(fixtures);\n  const goalsAdded = goalsWon(fixtures);\n  return teams\n    .map((t) => {\n      return {\n        ...t,\n        games: (gamesAdded[t.key] || 0) + GAMES_PLAYED_INITIAL,\n        points: t.initialPoints + (pointsAdded[t.key] || 0),\n        goalDiffrence: t.goalDiffrence + (goalsAdded[t.key] || 0)\n      };\n    })\n    .sort(\n      (t1, t2) => t2.points - t1.points || t2.goalDiffrence - t1.goalDiffrence\n    );\n};\n\nconst getTeamDisplayName = (teams, teamKey) =>\n  teams.find((t) => t.key === teamKey)?.displayName || teamKey;\n\nfunction isJsonString(str) {\n  try {\n    JSON.parse(str);\n  } catch (e) {\n    return false;\n  }\n  return true;\n}\n\nfunction minifyJson(fixtures) {\n  const minified = fixtures.map((f) => {\n    return [f.home, f.round, f.result, f.homeGoals, f.awayGoals];\n  });\n  return JSON.stringify(minified);\n}\n\nfunction unminifyJson(raw = []) {\n  return raw.map((f) => {\n    const [home, round, result, homeGoals, awayGoals] = f;\n    return {\n      home,\n      round,\n      result,\n      homeGoals,\n      awayGoals\n    };\n  });\n}\n\nfunction trackEvent({ action, category, label, value }) {\n  if (window.gtag) {\n    window.gtag(\"event\", action, {\n      event_category: category,\n      event_label: label,\n      value: value\n    });\n  }\n}\n\nconst groupBy = function (xs, key) {\n  return xs.reduce(function (rv, x) {\n    (rv[x[key]] = rv[x[key]] || []).push(x);\n    return rv;\n  }, {});\n};\n\nconst randomIntFromInterval = (min, max) => {\n  // min and max included\n  return Math.floor(Math.random() * (max - min + 1) + min);\n};\n\nconst randomGoals = () => {\n  const posibleValues = [0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 3];\n  const randomIndex = Math.floor(\n    Math.random() * (posibleValues.length - 1 + 1)\n  );\n  return posibleValues[randomIndex];\n};\n\nconst getDataFromClient = () => {\n  try {\n    const qsState = atob(new URL(document.location).searchParams.get(\"state\"));\n    const fixturesFromLS = window.localStorage.getItem(\"fixtures\");\n    if (isJsonString(qsState)) {\n      return JSON.parse(qsState);\n    } else if (isJsonString(fixturesFromLS)) {\n      const LSVersion =\n        window.localStorage.getItem(\"version\") === currentVersion.toString();\n      if (LSVersion && fixturesFromLS.length) {\n        return JSON.parse(fixturesFromLS);\n      }\n    }\n  } catch (error) {\n    console.error(error);\n  }\n  return [];\n};\n\nconst mergeFixtures = (appFixtures, clientFixtures) => {\n  const unminified = unminifyJson(clientFixtures);\n  const newFixtures = unminified.reduce(\n    (ac, clientFixture) => {\n      const initialIndex = appFixtures.findIndex(\n        (fixture) =>\n          fixture.home === clientFixture.home &&\n          fixture.round === clientFixture.round\n      );\n      const { result, homeGoals, awayGoals } = clientFixture;\n      if (initialIndex !== -1 && result) {\n        ac[initialIndex] = {\n          ...appFixtures[initialIndex],\n          result,\n          homeGoals,\n          awayGoals\n        };\n      }\n      return ac;\n    },\n    [...appFixtures]\n  );\n  return newFixtures;\n};\n\nconst getShareLink = (fixtures) => {\n  const shareLink = new URL(document.location.origin);\n  shareLink.searchParams.set(\n    \"state\",\n    btoa(minifyJson(fixtures.filter((f) => f.result)))\n  );\n  return shareLink;\n};\n\nconst copyToClipboard = (shareLink, toast) => {\n  const isMobile = /Android|webOS|iPhone|iPad|iPod|Opera Mini/i.test(\n    navigator.userAgent\n  );\n\n  if (isMobile && navigator.share) {\n    return navigator.share({\n      text: shareLink.toString()\n    });\n  } else if (navigator.clipboard) {\n    return navigator.clipboard\n      .writeText(shareLink.toString())\n      .catch((e) => console.error(e));\n  } else {\n    window.prompt(shareLink.toString());\n    return Promise.resolve();\n  }\n};\n\nexport {\n  calcuateTeamsPointes,\n  getTeamDisplayName,\n  isJsonString,\n  confetti,\n  minifyJson,\n  unminifyJson,\n  trackEvent,\n  groupBy,\n  randomIntFromInterval,\n  randomGoals,\n  getDataFromClient,\n  mergeFixtures,\n  getShareLink,\n  copyToClipboard\n};\n","import { randomIntFromInterval, calcuateTeamsPointes } from \"./utils\";\nimport { initialTeams } from \"./constans\";\n\nwindow.currentCalcuation = new Map();\n\nfunction getCalc(initialFixtures, poolSize) {\n  return new Promise((resolve, reject) => {\n    const teams = initialTeams.map((t) => t.key);\n    const m = window.currentCalcuation;\n    let i = 0;\n    for (i = 0; i < poolSize; i++) {\n      const fixtures = initialFixtures.map((f) => {\n        return f.result\n          ? { ...f }\n          : { ...f, result: randomIntFromInterval(1, 3) };\n      });\n      const result = calcuateTeamsPointes(initialTeams, fixtures);\n      const survived = result.slice(-2).map((t) => t.key);\n      const mini = fixtures.reduce((a, v) => a.concat(v.result), \"\");\n      m.set(mini, survived);\n    }\n\n    const p = new Map(teams.map((t) => [t, 0]));\n    Array.from(m.values()).forEach(([teamA, teamB]) => {\n      p.set(teamA, p.get(teamA) + 1);\n      p.set(teamB, p.get(teamB) + 1);\n    });\n\n    const precentile = teams.reduce((ac, t) => {\n      ac.set(t, 100 - Math.floor((p.get(t) / m.size) * 100));\n      return ac;\n    }, new Map());\n\n    resolve({\n      poolSize: m.size,\n      promotionsCount: p,\n      precentile,\n    });\n  });\n}\n\nexport { getCalc };\n","import { BASE_POSITION } from \"../constans\";\nexport default function TableRow({\n  team = {},\n  showGoals = false,\n  idx,\n  chance,\n}) {\n  return (\n    <div className={\"row\"} key={team.key}>\n      <div className=\"col small-col\">{BASE_POSITION + idx}</div>\n      <div className=\"col\">{team.displayName}</div>\n      <div className={`small-col col ${team.games === 33 ? \"done\" : \"\"} `}>\n        {team.games}\n      </div>\n      {showGoals && (\n        <div className=\"col small-col gf\">{team.goalDiffrence}</div>\n      )}\n      <div className=\"col small-col\">{team.points}</div>\n      <div className=\"col small-col\">{chance ? `${chance}%` : \"...\"}</div>\n    </div>\n  );\n}\n","import TableRow from \"./TableRow\";\nimport Sticky from \"react-stickynode\";\n\nexport default function LeagueTable({ teams, showGoals, chancePrecentile }) {\n  return (\n    <div className=\"table\">\n      <div className=\"row head-row\">\n        <div className=\"small-col\">拽</div>\n        <div>拽爪</div>\n        <div className=\"small-col\">砖拽</div>\n        {showGoals && <div className=\"small-col\">驻专砖</div>}\n        <div className=\"small-col\">拽转</div>\n        <div className=\"small-col\">住 砖专转</div>\n      </div>\n      {/* <Sticky enabled={true} top={0} bottomBoundary={1200}>\n        <div className=\"top-4\">\n          {teams.slice(2).map((t, i) => (\n            <TableRow\n              key={t.key}\n              team={t}\n              showGoals={showGoals}\n              idx={i}\n              chance={chancePrecentile.get(t.key) || null}\n            />\n          ))}\n        </div>\n      </Sticky> */}\n      <div>\n        {teams.map((t, i) => (\n          <TableRow\n            key={t.key}\n            team={t}\n            showGoals={showGoals}\n            idx={i + 4}\n            chance={chancePrecentile.get(t.key) || null}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n","import { useEffect, useRef } from \"react\";\nimport { resultsTypes, initialTeams } from \"../constans\";\nimport { getTeamDisplayName } from \"../utils\";\nconst teams = initialTeams;\n\nexport default function SingleFixture({\n  fixture,\n  index,\n  applyFn,\n  showRoundNumber = true,\n  showGoals\n}) {\n  const homeGoalsInput = useRef(fixture.homeGoals);\n  const awayGoalsInput = useRef(fixture.awayGoals);\n\n  const { homeGoals, awayGoals } = fixture;\n\n  useEffect(() => {\n    if (showGoals) {\n      homeGoalsInput.current.value = homeGoals;\n      awayGoalsInput.current.value = awayGoals;\n    }\n  }, [homeGoals, awayGoals, showGoals]);\n\n  const handleChange = (e) => {\n    e.stopPropagation();\n    const newHomeGoals =\n      homeGoalsInput.current.valueAsNumber &&\n      homeGoalsInput.current.checkValidity()\n        ? homeGoalsInput.current.valueAsNumber\n        : 0;\n    const newAwayGoals =\n      awayGoalsInput.current.valueAsNumber &&\n      awayGoalsInput.current.checkValidity()\n        ? awayGoalsInput.current.valueAsNumber\n        : 0;\n    let resultType;\n    if (newHomeGoals > newAwayGoals) {\n      resultType = resultsTypes.HOME;\n    } else if (newHomeGoals < newAwayGoals) {\n      resultType = resultsTypes.AWAY;\n    } else {\n      resultType = resultsTypes.TIE;\n    }\n    applyFn(index, resultType, newHomeGoals, newAwayGoals);\n  };\n\n  const handleClick = (result) => {\n    const homeGoals = result === resultsTypes.HOME ? 1 : 0;\n    const awayGoals = result === resultsTypes.AWAY ? 1 : 0;\n\n    applyFn(index, result, homeGoals, awayGoals);\n  };\n\n  return (\n    <tr\n      key={index}\n      className={`round-${fixture.round} team-${fixture.home} team-${fixture.away}`}\n    >\n      {showRoundNumber ? <td>{fixture.round}</td> : \"\"}\n      <td className={`${fixture.result === resultsTypes.HOME ? \"bold\" : \"\"}`}>\n        <div>\n          <div\n            onClick={() => {\n              handleClick(resultsTypes.HOME);\n            }}\n          >\n            {getTeamDisplayName(teams, fixture.home)}\n          </div>\n        </div>\n      </td>\n      {showGoals && (\n        <td className=\"goals-col\">\n          <div>\n            <input\n              onClick={(e) => {\n                e.target.select();\n              }}\n              onChange={handleChange}\n              type=\"number\"\n              min=\"0\"\n              size=\"1\"\n              max=\"13\"\n              ref={homeGoalsInput}\n              disabled={fixture.lock}\n            />\n          </div>\n        </td>\n      )}\n      <td\n        className={`tie-col ${\n          fixture.result === resultsTypes.TIE ? \"bold\" : \"\"\n        }`}\n        onClick={() => {\n          handleClick(resultsTypes.TIE);\n        }}\n      >\n        X\n      </td>\n      {showGoals && (\n        <td className=\"goals-col\">\n          <div>\n            <input\n              onClick={(e) => {\n                e.target.select();\n              }}\n              onChange={handleChange}\n              type=\"number\"\n              min=\"0\"\n              size=\"1\"\n              max=\"13\"\n              ref={awayGoalsInput}\n              disabled={fixture.lock}\n            />\n          </div>\n        </td>\n      )}\n      <td className={`${fixture.result === resultsTypes.AWAY ? \"bold\" : \"\"}`}>\n        <div>\n          <div\n            onClick={() => {\n              handleClick(resultsTypes.AWAY);\n            }}\n          >\n            {getTeamDisplayName(teams, fixture.away)}\n          </div>\n        </div>\n      </td>\n    </tr>\n  );\n}\n","import SingleFixture from \"./SingleFixture\";\nimport { groupBy } from \"../utils\";\nimport { completedRounds } from \"../constans\";\n\nexport default function Fixtures({ fixtures, applyFn, showGoals }) {\n  const rounds = groupBy(fixtures, \"round\");\n\n  return Object.keys(rounds)\n    .filter(\n      (roundNumber) => !completedRounds.includes(parseInt(roundNumber, 10))\n    )\n    .map((roundNumber) => (\n      <div key={`round${roundNumber}`}>\n        <h3>专 {roundNumber}</h3>\n        <table>\n          <thead>\n            <tr>\n              <th>1</th>\n              {showGoals && <th className={`goals-col`}></th>}\n              <th className={`tie-col`}>x</th>\n              {showGoals && <th className={`goals-col`}></th>}\n              <th>2</th>\n            </tr>\n          </thead>\n          <tbody>\n            {rounds[roundNumber].map((fixture) => (\n              <SingleFixture\n                key={`${fixture.home}/${fixture.away}`}\n                fixture={fixture}\n                applyFn={applyFn}\n                index={`${fixture.home}/${fixture.away}`}\n                showRoundNumber={false}\n                showGoals={showGoals}\n              />\n            ))}\n          </tbody>\n        </table>\n      </div>\n    ));\n}\n","import \"./styles.scss\";\nimport { useEffect, useState } from \"react\";\nimport Switch from \"react-switch\";\nimport debounce from \"debounce-promise\";\n\nimport {\n  initialTeams,\n  initialFixtures,\n  currentVersion,\n  resultsTypes,\n  BASE_POSITION,\n} from \"./constans\";\n\nimport {\n  calcuateTeamsPointes,\n  minifyJson,\n  confetti,\n  trackEvent,\n  randomGoals,\n  getDataFromClient,\n  mergeFixtures,\n  getShareLink,\n  copyToClipboard,\n} from \"./utils\";\n\nimport { getCalc } from \"./calc\";\nimport LeagueTable from \"./components/LeagueTable\";\nimport Fixtures from \"./components/Fixtures\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nconst getCalcDebounce = debounce(getCalc, 750);\n\nconst toastSettings = {\n  icon: \"\",\n  position: \"top-center\",\n  autoClose: 2500,\n  hideProgressBar: false,\n  closeOnClick: true,\n  pauseOnHover: true,\n  draggable: true,\n};\n\nexport default function App() {\n  const [fixtures, setFixtures] = useState([...initialFixtures]);\n  const [teams, setTeams] = useState(\n    calcuateTeamsPointes(initialTeams, [...initialFixtures])\n  );\n\n  const [showGoals, setShowGoals] = useState(false);\n  const [currentPoolSize, setCurrentPoolSize] = useState(0);\n  const [chancePrecentile, setChancePrecentile] = useState(new Map());\n  useEffect(() => {\n    if (fixtures.every((f) => f.result)) {\n      const hptPosition =\n        teams.findIndex((t) => t.key === \"hpt\") + 1 + BASE_POSITION;\n      trackEvent({\n        action: \"complete\",\n        category: \"hpt\",\n        label: hptPosition,\n      });\n      trackEvent({\n        action: \"complete\",\n        category: \"complete\",\n        label: fixtures.reduce((a, v) => a.concat(v.result), \"\"),\n      });\n    }\n  }, [teams, fixtures, chancePrecentile]);\n\n  useEffect(() => {\n    setChancePrecentile(new Map());\n    getCalcDebounce(fixtures, 10000).then((result) => {\n      const { precentile = new Map(), poolSize } = result;\n      setChancePrecentile(precentile);\n      // if (precentile.get(\"hpt\") >= 100) {\n      //   confetti({\n      //     particleCount: 750,\n      //     spread: 360,\n      //     colors: [\"#89CFF0\", \"#0047AB\", \"#3F00FF\", \"#4169E1\"],\n      //   });\n      // }\n      setCurrentPoolSize(poolSize);\n    });\n    setTeams(calcuateTeamsPointes(initialTeams, fixtures));\n    if (window.currentCalcuation.size > 0) {\n      window.currentCalcuation.clear();\n      // setCurrentPoolSize(0);\n      handleCalc();\n    }\n  }, [fixtures]);\n\n  useEffect(() => {\n    const clientFixtures = getDataFromClient();\n    setFixtures(mergeFixtures(initialFixtures, clientFixtures));\n  }, []);\n\n  const applyFixtureResult = (\n    changedFixtureIdx,\n    result,\n    homeGoals,\n    awayGoals\n  ) => {\n    const newFixtures = [...fixtures];\n    const idx = newFixtures.findIndex(\n      (f) => `${f.home}/${f.away}` === changedFixtureIdx\n    );\n\n    if (newFixtures[idx].lock) return;\n\n    const mutatedResult =\n      result === newFixtures[idx].result ? undefined : result;\n    newFixtures[idx] = {\n      ...newFixtures[idx],\n      result: mutatedResult,\n      homeGoals: mutatedResult ? homeGoals : undefined,\n      awayGoals: mutatedResult ? awayGoals : undefined,\n    };\n    setFixtures(newFixtures);\n\n    const minified = minifyJson(newFixtures);\n    window.localStorage.setItem(\"fixtures\", minified);\n    window.localStorage.setItem(\"version\", currentVersion);\n  };\n\n  const shareLink = getShareLink(fixtures);\n\n  const reset = () => {\n    trackEvent({ action: \"click\", category: \"button\", label: \"reset\" });\n    setFixtures(initialFixtures);\n  };\n\n  const copyShareLink = () => {\n    trackEvent({ action: \"click\", category: \"button\", label: \"share\" });\n    copyToClipboard(shareLink).then(() => {\n      toast.success(\"注转拽 \", toastSettings);\n    });\n  };\n\n  const shuffle = () => {\n    trackEvent({ action: \"click\", category: \"button\", label: \"shuffle\" });\n    const shuffleAll = fixtures.every((f) => f.result);\n    const newFixtures = fixtures.map((f) => {\n      if (f.lock || (f.result && !shuffleAll)) {\n        return f;\n      }\n      const homeGoals = randomGoals();\n      const awayGoals = randomGoals();\n      const result =\n        homeGoals > awayGoals\n          ? resultsTypes.HOME\n          : homeGoals < awayGoals\n          ? resultsTypes.AWAY\n          : resultsTypes.TIE;\n      return { ...f, result, homeGoals, awayGoals };\n    });\n    setFixtures(newFixtures);\n  };\n\n  const toggleGoals = (checked) => {\n    trackEvent({\n      action: \"click\",\n      category: \"goals\",\n      label: checked.toString(),\n    });\n    setShowGoals(checked);\n  };\n\n  const handleCalc = () => {\n    // if (fixtures.every((f) => f.result)) {\n    //   trackEvent({\n    //     category: \"calcuation\",\n    //     action: \"start\",\n    //     label: currentPoolSize ? \"enlarging\" : \"start\",\n    //     value: currentPoolSize\n    //   });\n    // }\n  };\n\n  return (\n    <div className=\"App\">\n      <div id=\"table\">\n        <LeagueTable\n          teams={teams}\n          showGoals={showGoals}\n          chancePrecentile={chancePrecentile}\n        />\n      </div>\n      <div className=\"buttons\">\n        <button onClick={copyShareLink}>砖转祝 爪 </button>\n        <button onClick={reset}>驻住</button>\n        <button onClick={shuffle}>拽专</button>\n        {/* <div>\n          <button onClick={handleCalc}>\n            {currentPoolSize === 0 ? \"砖 住\" : \"转 \"}\n          </button>\n        </div> */}\n      </div>\n      {/* {currentPoolSize > 0 && <span> : {currentPoolSize}</span>} */}\n\n      <div>\n        <label>\n          <Switch\n            onChange={toggleGoals}\n            checked={showGoals}\n            className=\"switch\"\n          />\n          驻专砖 砖注专\n        </label>\n      </div>\n      <div id=\"fixtures\">\n        <Fixtures\n          fixtures={fixtures}\n          applyFn={applyFixtureResult}\n          showGoals={showGoals}\n        />\n      </div>\n      <ToastContainer rtl />\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n"],"sourceRoot":""}